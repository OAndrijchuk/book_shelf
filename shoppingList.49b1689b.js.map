{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-a5f67e04bfb0a482.js","src/scripts/shoppingList.js","src/scripts/shoping-list-markup.js","node_modules/@parcel/runtime-js/lib/runtime-a3147d48d655d705.js","node_modules/@parcel/runtime-js/lib/runtime-151433295f927669.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"c94o8\\\":\\\"shoppingList.49b1689b.js\\\",\\\"ee16w\\\":\\\"sprite.ff7a874f.svg\\\",\\\"uCqXd\\\":\\\"empty-cont-img.fd3db3d5.png\\\",\\\"5UbS1\\\":\\\"index.9cac39be.css\\\",\\\"aWNzN\\\":\\\"shoppingList.47decc57.js\\\"}\"));","import './changeTheam';\nimport './mobile-menu';\nimport './support';\nimport {\n  createBookMarkup,\n  createEmptyBackground,\n  createShopingList,\n} from './shoping-list-markup';\nimport { FetchBook } from './api';\n\nconst mobileLinks = document.querySelectorAll('.mob-menu-link');\nmobileLinks.forEach(el => el.classList.remove('activ-page'));\nmobileLinks[1].classList.add('activ-page');\n\nconst menuLinks = document.querySelectorAll('.menu-link');\nmenuLinks.forEach(el => el.classList.remove('activ-page'));\nmenuLinks[1].classList.add('activ-page');\n\nconst container = document.querySelector('.cont-section');\nconst bookMarkupsArr = [];\nconst onShoppingClick = async event => {\n  const booksInChart = JSON.parse(localStorage.getItem('bookList')) || null;\n\n  for (const book of booksInChart) {\n    const bookData = await new FetchBook().fetchElement(book);\n    const bookMarkup = createBookMarkup(bookData);\n    bookMarkupsArr.push(bookMarkup);\n  }\n\n  container.innerHTML = createShopingList(bookMarkupsArr);\n\n  if (booksInChart.length !== 0) {\n    const ulSL = document.querySelector('.shopping-list');\n    ulSL.addEventListener('click', onDeleteClick);\n  }\n};\n\nonShoppingClick();\n\nexport function onDeleteClick(event) {\n  const allLiEl = [...document.querySelectorAll('.li-item')];\n  const booksInChart = JSON.parse(localStorage.getItem('bookList')) || null;\n  const deletingBookId = event.target.dataset.id;\n  const bookIdx = booksInChart.indexOf(deletingBookId);\n  console.log(bookIdx);\n  if (bookIdx !== -1) {\n    booksInChart.splice(bookIdx, 1);\n    localStorage.setItem('bookList', JSON.stringify(booksInChart));\n    allLiEl.find(el => el.dataset.id === deletingBookId).remove();\n  }\n  if (booksInChart.length === 0) {\n    container.innerHTML = createEmptyBackground();\n  }\n}\n","import iconsSL from '../images/sprite.svg';\nimport emptyImage from '../images/empty-cont-img.png';\n\nexport function createBookMarkup(object) {\n  const {\n    _id,\n    book_image,\n    list_name,\n    title,\n    description,\n    author,\n    buy_links: [\n      amazon,\n      apple_books,\n      barnes,\n      books_a_million,\n      bookshop,\n      indie_bound,\n    ],\n  } = object;\n  const markupOfBook = ` \n  <li data-id=\"${_id}\" class=\"li-item\">\n    <div class=\"shopping-list-book-item\">\n      <img\n        class=\"shopping-list-book-img\"\n        src=\"${book_image}\"\n        alt=\"Image of ${title}\"\n      />\n      <div class=\"shopping-list-book-text\">\n        <h2 class=\"shopping-list-book-title\">${title}</h2>\n        <p class=\"shopping-list-book-category\">${list_name}</p>\n        <p class=\"shopping-list-book-description\">${description || 'Description is empty'}</p>\n        <p class=\"shopping-list-book-author\">${author}</p>\n        <div class=\"shopping-list-book-links\">\n          <a class=\"test-link\" href=\"${amazon.url}\">\n            <svg width=\"32\" height=\"11\" class=\"shopping-list-amazon\"><use href=\"${iconsSL}#icon-amazon\"></use></svg>\n          </a>\n          <a class=\"test-link\" href=\"${apple_books.url}\">\n            <svg width=\"16\" height=\"16\" class=\"shopping-list-apple\"><use href=\"${iconsSL}#icon-apple-books-logo\"></use></svg>\n          </a>\n          <a class=\"test-link\" href=\"${bookshop.url}\">\n            <svg width=\"16\" height=\"16\" class=\"shopping-list-bookshop\"><use href=\"${iconsSL}#icon-book-shops-logo\"></use></svg>\n          </a>\n        </div>\n        <button data-id=\"${_id}\" class=\"shopping-list-book-btn\" >\n          <svg class=\"shopping-list-book-btn-icon\" width=\"16\" height=\"16\"><use href=\"${iconsSL}#icon-trash\"></use></svg>\n        </button>\n      </div>\n    </div>\n  </li>`;\n  return markupOfBook;\n}\nexport function createShopingList(arrayOfBooks) {\n  let result;\n  if (arrayOfBooks.length === 0) {\n    result = createEmptyBackground();\n  } else {\n    const mappedBooks = arrayOfBooks.join('');\n    result = `\n  <div class=\"container grid-wrapper shopping-list-container\">\n    <h2 class=\"shop-list-title\">Shopping <span class=\"shop-list-title-span\">List</span></h2>\n    <ul class=\"shopping-list\">${mappedBooks}</ul>\n  </div>`;\n  }\n  return result;\n}\n\nexport function createEmptyBackground() {\n  return `\n    <div class=\"container grid-wrapper shopping-list-container\">\n      <h2 class=\"shop-list-title\">Shopping <span class=\"shop-list-title-span\">List</span></h2>\n      <div class=\"shop-list-empty-container\">\n        <p class=\"shop-list-empty-paragraph\">This page is empty, add some books and proceed to order.</p>\n        <img class=\"shop-list-empty-img\" src=\"${emptyImage}\" alt=\"Books in empty section\"/>\n      </div>\n    </div>`;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('c94o8') + require('./helpers/bundle-manifest').resolve(\"ee16w\");","module.exports = require('./helpers/bundle-url').getBundleURL('c94o8') + require('./helpers/bundle-manifest').resolve(\"uCqXd\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$bpxeT","$1t1Wn","$9d3b2fbb89451c99$exports","getBundleURL","resolve","$b88950c4c30632d4$export$fc330cc8afb2a391","object","_id","book_image","list_name","title","description","author","_buy_links","$parcel$interopDefault","buy_links","amazon","apple_books","bookshop","concat","$b88950c4c30632d4$export$ad39da64d7b41c1c","arrayOfBooks","result","$b88950c4c30632d4$export$a85f9d8bc968d208","mappedBooks","join","$21e73fe01048d6ea$exports","$9930953f6fad6dac$var$mobileLinks","document","querySelectorAll","forEach","el","classList","remove","add","$9930953f6fad6dac$var$menuLinks","$9930953f6fad6dac$var$container","querySelector","$9930953f6fad6dac$var$bookMarkupsArr","$9930953f6fad6dac$var$onShoppingClick","$2TvXO","mark","_callee","event","booksInChart","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","book","bookData","bookMarkup","localStorage","getItem","undefined","Symbol","iterator","next","done","$2pRc6","FetchBook","fetchElement","_ctx","sent","push","t0","return","innerHTML","addEventListener","$9930953f6fad6dac$export$67beccfec6229ce1","allLiEl","$8nrFW","deletingBookId","target","dataset","bookIdx","indexOf","console","log","splice","setItem","stringify","find"],"version":3,"file":"shoppingList.49b1689b.js.map"}